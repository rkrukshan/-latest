{
  "version": 3,
  "sources": ["../../react-lazy-with-preload/lib/index.js"],
  "sourcesContent": ["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.lazyWithPreload = void 0;\nvar react_1 = require(\"react\");\nfunction lazyWithPreload(factory) {\n    var ReactLazyComponent = (0, react_1.lazy)(factory);\n    var PreloadedComponent;\n    var factoryPromise;\n    var Component = (0, react_1.forwardRef)(function LazyWithPreload(props, ref) {\n        // Once one of these is chosen, we must ensure that it continues to be\n        // used for all subsequent renders, otherwise it can cause the\n        // underlying component to be unmounted and remounted.\n        var ComponentToRender = (0, react_1.useRef)(PreloadedComponent !== null && PreloadedComponent !== void 0 ? PreloadedComponent : ReactLazyComponent);\n        return (0, react_1.createElement)(ComponentToRender.current, Object.assign(ref ? { ref: ref } : {}, props));\n    });\n    var LazyWithPreload = Component;\n    LazyWithPreload.preload = function () {\n        if (!factoryPromise) {\n            factoryPromise = factory().then(function (module) {\n                PreloadedComponent = module.default;\n                return PreloadedComponent;\n            });\n        }\n        return factoryPromise;\n    };\n    return LazyWithPreload;\n}\nexports.lazyWithPreload = lazyWithPreload;\nexports.default = lazyWithPreload;\n"],
  "mappings": ";;;;;;;;AAAA;AAAA;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,YAAQ,kBAAkB;AAC1B,QAAI,UAAU;AACd,aAAS,gBAAgB,SAAS;AAC9B,UAAI,sBAAsB,GAAG,QAAQ,MAAM,OAAO;AAClD,UAAI;AACJ,UAAI;AACJ,UAAI,aAAa,GAAG,QAAQ,YAAY,SAASA,iBAAgB,OAAO,KAAK;AAIzE,YAAI,qBAAqB,GAAG,QAAQ,QAAQ,uBAAuB,QAAQ,uBAAuB,SAAS,qBAAqB,kBAAkB;AAClJ,gBAAQ,GAAG,QAAQ,eAAe,kBAAkB,SAAS,OAAO,OAAO,MAAM,EAAE,IAAS,IAAI,CAAC,GAAG,KAAK,CAAC;AAAA,MAC9G,CAAC;AACD,UAAI,kBAAkB;AACtB,sBAAgB,UAAU,WAAY;AAClC,YAAI,CAAC,gBAAgB;AACjB,2BAAiB,QAAQ,EAAE,KAAK,SAAUC,SAAQ;AAC9C,iCAAqBA,QAAO;AAC5B,mBAAO;AAAA,UACX,CAAC;AAAA,QACL;AACA,eAAO;AAAA,MACX;AACA,aAAO;AAAA,IACX;AACA,YAAQ,kBAAkB;AAC1B,YAAQ,UAAU;AAAA;AAAA;",
  "names": ["LazyWithPreload", "module"]
}
